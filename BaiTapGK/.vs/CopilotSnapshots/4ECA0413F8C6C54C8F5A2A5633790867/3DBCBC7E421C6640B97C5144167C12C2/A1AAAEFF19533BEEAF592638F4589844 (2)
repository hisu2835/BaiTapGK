# Game Oan Tu Ti (Rock Paper Scissors) - C# WinForms

## ?? Gioi thieu
Day la tro choi Oan Tu Ti (Rock Paper Scissors) duoc phat trien bang C# WinForms voi day du cac tinh nang:

### ?? Tinh nang chinh:
- **Dang nhap**: He thong dang nhap voi ten nguoi choi
- **Choi don**: Choi voi may tinh (AI ngau nhien)
- **Choi doi**: Choi online voi nguoi khac qua TCP/IP (LAN hoac Internet)
- **Gioi thieu game**: Huong dan cach choi va luat game
- **Wireshark Integration**: Tich hop Wireshark de monitor network traffic thuc te
- **Khong dau tieng Viet**: Tat ca text su dung tieng Viet khong dau de tranh loi hien thi

## ?? Cach chay ung dung

### Yeu cau he thong:
- .NET 9 SDK
- Windows OS
- Visual Studio 2022 hoac VS Code
- **Wireshark** (tuy chon, cho network monitoring)

### Chay ung dung:
1. Mo Terminal/Command Prompt
2. Navigate den thu muc du an
3. Chay lenh: `dotnet run`

## ?? Huong dan su dung

### 1. Dang nhap
- Khi khoi dong app, form dang nhap se xuat hien
- Nhap ten nguoi choi
- Click "DANG NHAP" hoac nhan Enter

### 2. Menu chinh
Sau khi dang nhap thanh cong, ban co 3 lua chon:

#### ?? Choi don (Single Player)
- Choi voi may tinh
- May se chon ngau nhien
- Diem so duoc tinh tu dong
- Co nut Reset de choi lai
- **Icons**: Hinh ban tay thay vi bua-keo-bao truyen thong

#### ?? Choi doi (Multi Player)
- **Tao phong**: Nhap port va click "TAO PHONG" de lam host
- **Tham gia phong**: Nhap IP server, port va click "VAO PHONG"
- **Internet Support**: Co the choi qua Internet bang cach share IP public
- **Wireshark Integration**: Button "MO WIRESHARK" de monitor traffic
- **Icons**: Hinh ban tay sinh dong

#### ?? Gioi thieu game
- Xem luat choi va cach thuc hoat dong
- Huong dan chi tiet ve game

## ?? Cau truc ma nguon

### Cac file chinh:
- `Form1.cs` - Form menu chinh
- `LoginForm.cs` - Form dang nhap
- `SinglePlayerForm.cs` - Form choi don
- `MultiPlayerForm.cs` - Form choi doi (TCP networking + Wireshark)
- `GameIntroForm.cs` - Form gioi thieu
- `GameConfig.cs` - Cac cau hinh game va Wireshark
- `NetworkUtils.cs` - Tien ich network

### Cong nghe su dung:
- **Frontend**: Windows Forms
- **Networking**: TCP/IP Socket (LAN + Internet)
- **Threading**: Multi-threading cho server/client
- **Random**: Algorithm ngau nhien cho AI
- **Network Analysis**: Wireshark integration
- **Encoding**: UTF-8 khong dau cho tieng Viet

## ?? Che do Multiplayer

### Cach hoat dong:
1. **Host** tao phong ? Server TCP lang nghe port (mac dinh 7777)
2. **Client** tham gia ? Ket noi den IP:port cua host
3. **LAN**: Su dung IP local (192.168.x.x)
4. **Internet**: Su dung IP public (can port forwarding)
5. Trao doi du lieu qua TCP stream
6. Dong bo lua chon va tinh diem

### Giao thuc tin nhan:
- `PLAYER:[ten]` - Gui ten nguoi choi
- `CHOICE:[lua chon]` - Gui lua chon (Da/Giay/Keo)
- `RESULT:[ket qua]` - Ket qua tran dau

### Choi qua Internet:Host:
1. Forward port 7777 tren router
2. Share IP public cho friend
3. Tao phong va cho ket noi

Client:
1. Nhap IP public cua host
2. Nhap port (7777)
3. Ket noi va choi!
## ?? Wireshark Integration

### Tinh nang:
- **Auto-launch Wireshark** voi filter danh rieng cho game
- **Pre-configured filters** cho game traffic
- **Huong dan su dung** neu khong co Wireshark
- **Game protocol analysis** trong real-time

### Su dung Wireshark:
1. Cai dat Wireshark tu https://www.wireshark.org/
2. Trong MultiPlayer form, click "MO WIRESHARK"
3. Wireshark se mo voi filter: `tcp port 7777`
4. Bat dau choi de xem network traffic!

### Cac packets co the thay:- TCP Handshake (SYN, SYN-ACK, ACK)
- PLAYER:PlayerName - Player join
- CHOICE:Da/Giay/Keo - Player moves  
- RESULT:... - Game results
- TCP Teardown (FIN, ACK)
### Filter huu ich:tcp port 7777                    # Game traffic
tcp.stream eq 0                  # Chi stream dau tien
tcp contains "PLAYER"            # Chi player messages
tcp contains "CHOICE"            # Chi game moves
ip.addr == 192.168.1.100        # Traffic tu/den IP cu the
## ?? Giao dien

### Mau sac:
- **Da**: Xam nhat (Rock - Gray) voi icon ?
- **Giay**: Xanh nhat (Paper - Light Blue) voi icon ???
- **Keo**: Vang nhat (Scissors - Light Yellow) voi icon ??

### Bieu tuong moi:
- ? **Nam dam** (Rock) - thay cho icon bua cu
- ??? **Ban tay mo** (Paper) - thay cho icon giay cu  
- ?? **Hai ngon tay** (Scissors) - thay cho icon keo cu

### Tieng Viet khong dau:
- Tat ca text trong ung dung su dung **tieng Viet khong dau**
- Tranh loi hien thi font va encoding tren cac he thong khac nhau
- Dam bao tuong thich voi tat ca Windows versions
- Giao dien sach dep, de doc

## ?? Xu ly loi

### Cac loi thuong gap:
1. **Loi ket noi**: Kiem tra firewall va port settings
2. **Mat ket noi**: Tu dong hien thi thong bao loi
3. **Thread exception**: Su dung proper thread management
4. **Wireshark khong mo**: Kiem tra Wireshark installation
5. **Port da su dung**: Thu port khac hoac restart ung dung

### Khac phuc Network:
- **Port forwarding** cho Internet play
- **Windows Firewall** cho phep ung dung
- **Antivirus** whitelist ung dung
- **Router settings** mo port 7777

### Khac phuc Wireshark:
- **Cai dat Wireshark** tu official website
- **Add to PATH** neu can thiet
- **Run as Administrator** neu gap van de permissions
- **Manual setup** neu auto-launch khong hoat dong

## ?? Tinh nang mo rong

### Co the phat trien them:
- [ ] Chat trong game
- [ ] Luu lich su tran dau  
- [ ] Ranking system
- [ ] Sound effects
- [ ] Themes va skins
- [ ] Tournament mode
- [ ] **Dedicated server** cho nhieu phong
- [ ] **Advanced Wireshark filters** cho deep analysis
- [ ] **Network performance metrics**
- [ ] **Replay system** tu packet data
- [ ] **Multi-language support** (tieng Viet co dau, English, etc.)

## ?? Luat choi

### Nguyen tac co ban:
- **Da** (?) thang **Keo** (??) - da nghien nat keo
- **Keo** (??) thang **Giay** (???) - keo cat giay  
- **Giay** (???) thang **Da** (?) - giay bao da
- Chon giong nhau = **HOA**

## ?? Bao mat va Networking

### Game Security:
- **Localhost-first**: An toan cho local network
- **No sensitive data**: Chi truyen game state
- **Port isolation**: Chi su dung port can thiet
- **Firewall friendly**: Windows Firewall compatible

### Network Requirements:
- **LAN Play**: Chi can cung LAN/WiFi
- **Internet Play**: Can port forwarding hoac VPN
- **No central server**: P2P architecture
- **Low bandwidth**: Chi vai KB cho toan game

### Wireshark Privacy:
- **Local monitoring only**: Khong upload data
- **Educational purpose**: Hoc network protocols
- **No packet modification**: Chi monitor, khong sua doi
- **User controlled**: Tu dong tat khi dong game

## ??? Network Troubleshooting

### LAN Play Issues:1. Ping test: ping [host_ip]
2. Port test: telnet [host_ip] 7777
3. Firewall: Allow app through Windows Firewall
4. Network discovery: Enable in Control Panel
### Internet Play Issues:1. Port forwarding: Router admin -> Forward port 7777
2. Public IP: Check whatismyipaddress.com
3. ISP restrictions: Some block P2P connections
4. Alternative: Use VPN services like Hamachi
### Wireshark Analysis:1. Start capture before connecting
2. Use display filters for clean view
3. Follow TCP streams for full conversation
4. Export packet data for offline analysis
## ?? Educational Value

### Network Learning:
- **TCP Protocol**: Handshake, data transfer, teardown
- **Socket Programming**: Client-server architecture  
- **Network Debugging**: Using Wireshark for troubleshooting
- **Protocol Design**: Simple game protocol implementation

### Skills Developed:
- **C# Networking**: TcpListener/TcpClient usage
- **Threading**: Background network operations
- **Error Handling**: Network exception management
- **Network Analysis**: Packet inspection with Wireshark

---
*Phat trien boi: BaiTapGK Team*  
*Framework: .NET 9 + WinForms*  
*Network Analysis: Wireshark Integration*  
*Ngon ngu: Tieng Viet khong dau - Unicode UTF-8*  
*Compatibility: Windows 10/11, .NET 9, Wireshark 3.x+*